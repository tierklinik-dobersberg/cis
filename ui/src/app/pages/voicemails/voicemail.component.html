<div class="dash-card selection-container">
    <div class="date-selection">
        <label>Aufnahmen anzeigen für:</label>
        <nz-date-picker [nzAllowClear]="false" [ngModel]="date" (ngModelChange)="onChange($event)"></nz-date-picker>
    </div>
</div>

<nz-table #basicTable [nzData]="recordings" class="dash-card data-container">
    <thead>
        <tr>
            <th>Zeit</th>
            <th>Kunde / Anrufer</th>
            <th>
                <ng-container *ngIf="layout.isTabletPortraitUp">
                    Aufnahme
                </ng-container>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of basicTable.data; trackBy: trackRecording">
            <td>
                <ng-container *ngIf="layout.isTabletPortraitUp; else: mobileDateTemplate">
                    {{data.localDate.toLocaleString()}}
                </ng-container>
                <ng-template #mobileDateTemplate>
                    {{data.localDate.toLocaleDateString()}}<br />
                    {{data.localDate.toLocaleTimeString()}}
                </ng-template>
            </td>
            <td>
                <a class="customer-link" *ngIf="!!data.customer"
                    [routerLink]="['/customer/view', data.customer.source, data.customer.cid]">
                    {{ data.customer.name }}&nbsp;{{ data.customer.firstname }}
                </a>
                <span>
                    {{data.from}}
                </span>
            </td>
            <td>
                <button *ngIf="layout.isPhone" nz-button nzType="primary">
                    <i nz-icon nzType="play-circle" nzTheme="outline" (click)="player.play()"></i>
                </button>
                <audio [attr.controls]="layout.isTabletPortraitUp || null" [attr.src]="data.url" #player>
                    HTML5 audio nicht unterstützt
                </audio>
            </td>
        </tr>
    </tbody>
</nz-table>