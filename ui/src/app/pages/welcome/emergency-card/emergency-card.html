<nz-card>
    <nz-card-meta [nzTitle]="titleTemplate" [nzDescription]="descriptionTemplate" [nzAvatar]="avatarTemplate">
    </nz-card-meta>
</nz-card>

<ng-template #titleTemplate>
    <span>Nachtdienst: </span>
    <nz-spin *ngIf="firstLoad" nzSimple [nzSize]="'small'"></nz-spin>
    <span *ngIf="onDuty.length > 0" [nzTooltipTitle]="onDuty[0].phone" nz-tooltip><u>{{
            onDuty[0].fullname }}</u></span>
</ng-template>

<ng-template #descriptionTemplate>
    <ng-container *ngIf="firstLoad">
        <nz-spin nzSimple [nzSize]="'small'"></nz-spin>
        <span> Laden ...</span>
    </ng-container>
    <span *ngIf="!firstLoad" class="description">
        <span style="color: red" *ngIf="onDuty.length == 0">
            <i nz-icon nzType="warning" nzTheme="outline" style="margin-right: 4px;"></i>
            Nicht eingetragen!
        </span>

        <span *ngIf="onDuty.length > 1">
            <span>Backup: </span>
            <span *ngFor="let backup of onDuty.slice(1); trackBy: trackBy" class="backup"
                [nzTooltipTitle]="backup.phone" nz-tooltip>{{ backup.fullname }}</span>
        </span>
    </span>
</ng-template>

<ng-template #avatarTemplate>
    <i nz-icon nzType="clock-circle" style="font-size: 30px; color: gray" nzTheme="outline"></i>
</ng-template>