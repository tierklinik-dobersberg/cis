<nz-card>
  <nz-card-meta nzTitle="Heute im Dienst"></nz-card-meta>
  <div class="grid">
    <div *ngFor="let shift of shifts">
      <h3>{{ shift.definition.name }}</h3>
      <ng-container *ngTemplateOutlet="userGroupTemplate; context:{$implicit: shift.staff}"></ng-container>
    </div>
  </div>
</nz-card>

<ng-template #userGroupTemplate let-data>
  <nz-avatar-group>
    <ng-container *ngFor="let user of data">
      <nz-avatar nzIcon="user" [nzSrc]="profiles[user].user.avatar" [nzSize]="48"
        (mouseenter)="userHover.next(user)" (mouseleave)="userHover.next('')" (click)="userClicked(user)">
      </nz-avatar>
    </ng-container>
  </nz-avatar-group>
</ng-template>
