<nz-card [nzActions]="doorActions">
  <nz-card-meta nzTitle="Eingangstür" [nzDescription]="doorDescr" [nzAvatar]="avatarTemplate"></nz-card-meta>
</nz-card>

<ng-template #doorDescr>
  <span class="door-description">
    <span>{{ doorState?.state === 'locked' ? 'Gesperret' : 'Geöffnet'}}</span>
    <span>bis</span>
    <span><u>{{stateUntilDay}}{{stateUntilTime}}</u></span>
  </span>
</ng-template>

<ng-template #avatarTemplate>
  <fa-icon class="door-avatar ant-avatar ant-avatar-lg ant-avatar-circle ant-avatar-icon"
    [class]="'door-'+doorState?.state" [icon]="doorState?.state === 'unlocked' ? 'door-open' : 'door-closed'">
  </fa-icon>
</ng-template>

<ng-template #openAction>
  Öffnen
</ng-template>

<ng-template #unlockAction>
  <span nz-dropdown [nzDropdownMenu]="unlockMenu">Entsprerren <i nz-icon nzType="down"></i></span>
  <nz-dropdown-menu #unlockMenu="nzDropdownMenu">
    <ul nz-menu>
      <li nz-menu-item (click)="overwriteDoor('unlock', '10m')">
        <a>10 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('unlock', '20m')">
        <a>20 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('unlock', '30m')">
        <a>30 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('unlock', '1h')">
        <a>1h</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('unlock', '1h30m')">
        <a>1h 30min</a>
      </li>
    </ul>
  </nz-dropdown-menu>
</ng-template>

<ng-template #lockAction>
  <span nz-dropdown [nzDropdownMenu]="lockMenu">Zusperren <i nz-icon nzType="down"></i></span>
  <nz-dropdown-menu #lockMenu="nzDropdownMenu">
    <ul nz-menu>
      <li nz-menu-item (click)="overwriteDoor('lock', '10m')">
        <a>10 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('lock', '20m')">
        <a>20 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('lock', '30m')">
        <a>30 min</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('lock', '1h')">
        <a>1h</a>
      </li>
      <li nz-menu-item (click)="overwriteDoor('lock', '1h30m')">
        <a>1h 30m</a>
      </li>
    </ul>
  </nz-dropdown-menu>
</ng-template>

<ng-template #resetAction>
  <span (click)="resetDoor()"> Reset </span>
</ng-template>
